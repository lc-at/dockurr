{% extends "skel.html" %}
{% block title %}Dashboard{% endblock %}
{% block container %}
<div class="d-flex justify-content-center flex-column align-items-center">
  <img class="d-block my-2" src="{{ url_for('static', filename='logo.svg') }}" alt="" width="150" height="120">
  <h1>Dockurr</h1>
</div>
<div class="mt-5 d-flex justify-content-between">
  <div class="mx-5">
    <h5>Welcome, {{ g.username }}!<br /></h5>
  </div>
  <div class="">
    <a class="btn btn-success mx-2" role="button" href="{{ url_for('views.create_container') }}">Create
      container</a>
    <a class="btn btn-success btn-danger" role="button" href="{{ url_for('views.logout') }}">Logout</a>
  </div>
</div>
<ol>
  {% for container in containers %}
  <div class="card my-4">
    <div class="card-header">
      <h3>
        <b>{{ container.name }}</b>
      </h3>
    </div>
    <div class="card-body">
      <div class="d-flex">
        <div class="d-flex flex-column px-3">
          <h5 class="card-title flex-grow-1">Image</h5>
          <p class="card-text font-sm"><small>Internal ID</small></p>
          <p class="card-text">Status</p>
          <p class="card-text">Host</p>
          <p class="card-text">To</p>
        </div>
        <div class="d-flex flex-column px-5">
          <h5 class="card-title flex-grow-1">{{container.image}}</h5>
          <p class="card-text font-sm d-inline-block text-truncate"><small>{{container.internal_id}}</small></p>
          <p id="status" class="card-text">{{container.status}}</p>
          <p class="card-text">{{container.public_port}}</p>
          <p class="card-text">{{container.container_port}}</p>
        </div>
      </div>
      <div class="p-3">
        <a  id="btn-start" class="btn btn-primary {% if container.status == g.CS.RUNNING %}disabled{% endif %}" href="{{ url_for('views.start_container', id=container.id) }}" type="button" disabled>Start</a>
        <a class="btn btn-warning {% if container.status == g.CS.EXITED %}disabled{% endif %}" href="{{ url_for('views.stop_container', id=container.id) }}">Stop</a>
        <a class="btn btn-danger" href="{{ url_for('views.delete_container', id=container.id) }}">Delete</a>
        <a class="btn btn-danger" href="{{ url_for('views.schedule_container', id=container.id) }}">Schedule</a>
        <a  class="btn btn-primary" href="{{ url_for('views.billing', id=container.id) }}">
          View Billing
        </a>
        
        <!-- <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">{{ container.name }}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body d-flex ">
                {% for bill in bills %}
                  <div class="flex-grow-1">
                    <h5>Start Time</h5>
                    <h5>Stop Time</h5>
                    <h5>Minutes</h5>
                    <h5>Cost</h5>
                  </div>
                  <div class="flex-grow-1">
                    <h5>{{ bill['start'] }}</h5>
                    <h5>{{ bill['stop'] }}</h5>
                    <h5>{{ bill['minutes'] }}</h5>
                    <h5>{{ bill['cost'] }}</h5>
                  </div>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div> -->
      
    </div>
  </div>
  {% endfor %}
</ol>

{% endblock %}